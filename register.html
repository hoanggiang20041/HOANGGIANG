<!DOCTYPE HTML>
<html>
<head>
    <title>Đăng Nhập</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='//fonts.googleapis.com/css?family=Roboto+Condensed:400,700' rel='stylesheet' type='text/css'>
    <style>
        body {
            font-family: 'Roboto Condensed', sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .container {
            background-color: #fff;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            width: 320px;
            text-align: center;
        }
        .container h1 {
            margin-bottom: 25px;
            font-size: 26px;
            color: #333;
        }
        .container input {
            width: calc(100% - 20px);
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .container button {
            width: 100%;
            padding: 12px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .container button:hover {
            background-color: #45a049;
        }
        .message {
            margin-top: 10px;
            color: #d9534f;
        }
        .hidden {
            display: none;
        }
        .toggle-link {
            margin-top: 15px;
            cursor: pointer;
            color: #007bff;
        }
        .toggle-link:hover {
            text-decoration: underline;
        }
        .dropdown {
            width: calc(100% - 20px);
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="form-title">Đăng Nhập</h1>
        <input type="text" id="username" placeholder="Tên người dùng" />
        <input type="password" id="password" placeholder="Mật khẩu" />
        <input type="text" id="full-name" placeholder="Họ và tên" class="hidden" />
        <input type="date" id="dob" placeholder="Ngày tháng năm sinh" class="hidden" />
        <select id="address" class="dropdown hidden"></select>
        <button id="action-button">Đăng Nhập</button>
        <div id="message" class="message hidden"></div>
        <div id="toggle-link" class="toggle-link" onclick="toggleForm()">Chưa có tài khoản? Đăng ký</div>
    </div>

    <script>
        document.getElementById('action-button').addEventListener('click', function() {
            var username = document.getElementById('username').value;
            var password = document.getElementById('password').value;
            var formTitle = document.getElementById('form-title').textContent;
            var fullName = document.getElementById('full-name').value;
            var dob = document.getElementById('dob').value;
            var address = document.getElementById('address').value;

            if (formTitle === 'Đăng Nhập') {
                // Đăng nhập
                var storedUsername = localStorage.getItem('username');
                var storedPassword = localStorage.getItem('password');

                if (username === storedUsername && password === storedPassword) {
                    window.location.href = 'home.html';
                } else {
                    document.getElementById('message').textContent = 'Tên người dùng hoặc mật khẩu không đúng.';
                    document.getElementById('message').classList.remove('hidden');
                }
            } else {
                // Đăng ký
                localStorage.setItem('username', username);
                localStorage.setItem('password', password);
                localStorage.setItem('fullName', fullName);
                localStorage.setItem('dob', dob);
                localStorage.setItem('address', address);
                document.getElementById('message').textContent = 'Đăng ký thành công!';
                document.getElementById('message').classList.remove('hidden');
                setTimeout(function() {
                    window.location.href = 'home.html'; // Chuyển đến trang chính sau khi đăng ký
                }, 1000); // Thời gian chờ 1 giây để người dùng thấy thông báo đăng ký thành công
            }
        });

        function toggleForm() {
            var formTitle = document.getElementById('form-title');
            var actionButton = document.getElementById('action-button');
            var toggleLink = document.getElementById('toggle-link');
            var fullName = document.getElementById('full-name');
            var dob = document.getElementById('dob');
            var address = document.getElementById('address');

            if (formTitle.textContent === 'Đăng Nhập') {
                formTitle.textContent = 'Đăng Ký';
                actionButton.textContent = 'Đăng Ký';
                toggleLink.textContent = 'Đã có tài khoản? Đăng nhập';
                fullName.classList.remove('hidden');
                dob.classList.remove('hidden');
                address.classList.remove('hidden');
                loadProvinces(); // Load danh sách tỉnh thành khi vào phần đăng ký
            } else {
                formTitle.textContent = 'Đăng Nhập';
                actionButton.textContent = 'Đăng Nhập';
                toggleLink.textContent = 'Chưa có tài khoản? Đăng ký';
                fullName.classList.add('hidden');
                dob.classList.add('hidden');
                address.classList.add('hidden');
                document.getElementById('message').classList.add('hidden');
            }
        }

        function loadProvinces() {
            var addressDropdown = document.getElementById('address');
            var provinces = [
                "Hà Nội", "Hải Phòng", "Hồ Chí Minh", "Đà Nẵng", "Cần Thơ", 
                "Hải Dương", "Thái Nguyên", "Nam Định", "Nghệ An", "Thanh Hóa",
                "Hà Tĩnh", "Quảng Bình", "Quảng Trị", "Huế", "Vinh", "Hưng Yên",
                "Bắc Ninh", "Bắc Giang", "Lạng Sơn", "Yên Bái", "Hòa Bình",
                "Sơn La", "Điện Biên", "Lào Cai", "Tuyên Quang", "Hà Giang",
                "Lai Châu", "Kỳ Sơn", "Kon Tum", "Gia Lai", "Đắk Lắk",
                "Đắk Nông", "Bình Phước", "Bình Dương", "Long An", "Tiền Giang",
                "Bến Tre", "Trà Vinh", "Vĩnh Long", "Sóc Trăng", "Hậu Giang",
                "An Giang", "Cà Mau", "Kiên Giang", "Bạc Liêu", "Bình Thuận",
                "Ninh Thuận", "Quảng Nam", "Quảng Ngãi", "Phú Yên", "Khánh Hòa",
                "Hà Nam", "Hà Tĩnh", "Quảng Bình", "Quảng Trị", "Thừa Thiên Huế",
                "Vĩnh Phúc", "Tuyên Quang", "Hòa Bình", "Lai Châu", "Lào Cai",
                "Sơn La", "Yên Bái", "Hà Giang", "Điện Biên", "Hưng Yên"
            ];

            provinces.forEach(function(province) {
                var option = document.createElement('option');
                option.value = province;
                option.textContent = province;
                addressDropdown.appendChild(option);
            });
        }
    </script>
</body>
</html>
